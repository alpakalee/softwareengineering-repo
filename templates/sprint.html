<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprint</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='global.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='topbar.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='sidebar.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='sprint.css') }}">
</head>
<body>
    {% include 'topbar.html' %}
    <div class="main-container">
        {% include 'sidebar.html' %}
        <div class="content">
            <div class="sprint-create-container">
                <button class="create-sprint-btn" onclick="openSprintCreateModal()">스프린트 생성</button>
            </div>
            <div class="sprint-navigation">
                <button class="nav-btn">&lt;</button>
                <div class="sprint-container">
                    <div class="sprint-header">
                        <div class="sprint-title-container">
                            <h2>스프린트 1 - [스프린트 이름]</h2>
                            <span class="sprint-dates">2024.10.01 - 2024.10.08</span>
                        </div>
                        <div class="sprint-actions">
                            <button class="header-options-btn" onclick="toggleSprintOptionsModal(event)">
                                <img src="{{ url_for('static', filename='icons/dotdotdot.svg') }}" alt="설정 버튼">
                            </button>
                        </div>
                    </div>                                        
                    <div class="sprint-backlog-container">
                        <!-- 프로덕트 백로그 섹션 -->
                        <div class="product-backlog-section">
                            <div class="backlog-header">
                                <h3># ~~~ 할 수 있게 만들기 (=프로덕트 백로그 이름)</h3>
                                <button class="add-backlog-btn" onclick="openSprintBacklogModal()">스프린트 백로그 추가</button>
                            </div>
                            <div class="sprint-backlog-list">
                                <div class="sprint-backlog-item">
                                    <p>스프린트 백로그 이름</p>
                                    <div class="status-container">
                                        <select class="status-dropdown">
                                            <option>To do</option>
                                            <option>In Progress</option>
                                            <option>Done</option>
                                        </select>
                                        <span class="user-initials">서준</span>
                                        <button class="options-btn" onclick="toggleBacklogOptionsModal(event)">
                                            <img src="{{ url_for('static', filename='icons/dotdotdot.svg') }}" alt="설정 버튼">
                                        </button>                                       
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="product-backlog-section">
                            <div class="backlog-header">
                                <h3># ~~~ 할 수 있게 만들기 (=프로덕트 백로그 이름)</h3>
                                <button class="add-backlog-btn" onclick="openSprintBacklogModal()">스프린트 백로그 추가</button>
                            </div>
                            <div class="sprint-backlog-list">
                                <div class="sprint-backlog-item">
                                    <p>스프린트 백로그 이름</p>
                                    <div class="status-container">
                                        <select class="status-dropdown">
                                            <option>To do</option>
                                            <option>In Progress</option>
                                            <option>Done</option>
                                        </select>
                                        <span class="user-initials">서준</span>
                                        <button class="options-btn" onclick="toggleBacklogOptionsModal(event)">
                                            <img src="{{ url_for('static', filename='icons/dotdotdot.svg') }}" alt="설정 버튼">
                                        </button>                                     
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>                    
                </div>
                
                <button class="nav-btn">&gt;</button>
            </div>

            <div class="backlog-navigation">
                <button class="nav-btn" style="visibility: hidden;">&lt;</button>
                <div class="product-backlog">
                    <h3>프로덕트 백로그</h3>
                    <div class="product-backlog-list">
                        <div class="product-backlog-item">
                            <p># ~~~ 할 수 있게 만들기 (=프로덕트 백로그 이름)</p>
                        </div>
                        <div class="product-backlog-item">
                            <p># ~~~ 할 수 있게 만들기 (=프로덕트 백로그 이름)</p>
                        </div>
                        <div class="product-backlog-item">
                            <p># ~~~ 할 수 있게 만들기 (=프로덕트 백로그 이름)</p>
                        </div>
                    </div>
                </div>
                <button class="nav-btn" style="visibility: hidden;">&gt;</button>
            </div>            
        </div>
    </div>
    <!-- 스프린트 생성 모달 구조 -->
    <div id="sprint_create_modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>스프린트 생성</h2>
            <form>
                <label for="sprint-name">스프린트 이름</label>
                <input type="text" id="sprint-name" placeholder="스프린트 이름을 입력하세요" />

                <label for="sprint-start-date">스프린트 기간</label>
                <div class="date-inputs">
                    <input type="date" id="sprint-start-date" placeholder="시작 날짜" />
                    <input type="date" id="sprint-end-date" placeholder="종료 날짜" />
                </div>

                <label for="product-backlog">프로덕트 백로그</label>
                <select id="product-backlog">
                    <option>프로덕트 백로그 선택</option>
                    <!-- 옵션 추가 가능 -->
                </select>

                <div class="modal-buttons">
                    <button type="button" class="add-sprint-btn" onclick="addSprint()">스프린트 추가</button>
                    <button type="button" class="cancel-btn" onclick="closeSprintCreateModal()">취소하기</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 스프린트 수정 모달 -->
    <div id="sprint_edit_modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>스프린트 수정</h2>
            <form>
                <label for="edit-sprint-name">스프린트 이름</label>
                <input type="text" id="edit-sprint-name" placeholder="스프린트 이름을 입력하세요" value="스프린트1 이름입니다" />

                <label for="edit-sprint-start-date">스프린트 기간</label>
                <div class="date-inputs">
                    <input type="date" id="edit-sprint-start-date" value="2024-10-30" />
                    <input type="date" id="edit-sprint-end-date" value="2024-11-05" />
                </div>

                <label for="edit-product-backlog">프로덕트 백로그</label>
                <select id="edit-product-backlog">
                    <option>#프로덕트 백로그 이름1</option>
                    <!-- 옵션 추가 가능 -->
                </select>

                <div class="modal-buttons">
                    <button type="button" class="add-sprint-btn" onclick="saveSprintChanges()">수정하기</button>
                    <button type="button" class="cancel-btn" onclick="closeSprintEditModal()">취소하기</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 스프린트 백로그 생성 모달 -->
    <div id="sprint_backlog_modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>스프린트 백로그 생성</h2>
            <form>
                <label for="backlog-name">백로그 이름</label>
                <input type="text" id="backlog-name" placeholder="스프린트 백로그 이름을 입력하세요" />

                <label for="assignee">담당자</label>
                <select id="assignee">
                    <option>담당자 선택</option>
                    <!-- 담당자 옵션 추가 가능 -->
                </select>

                <div class="modal-buttons">
                    <button type="button" class="modal-add-backlog-btn" onclick="addSprintBacklog()">백로그 추가</button>
                    <button type="button" class="cancel-btn" onclick="closeSprintBacklogModal()">취소하기</button>
                </div>
            </form>
        </div>
    </div>


    <!-- 스프린트 백로그 수정 모달 -->
    <div id="sprint_backlog_edit_modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>스프린트 백로그 수정</h2>
            <form>
                <label for="edit-backlog-name">백로그 이름</label>
                <input type="text" id="edit-backlog-name" placeholder="백로그 이름을 입력하세요" value="스프린트 백로그 이름입니다" />

                <label for="edit-assignee">담당자</label>
                <select id="edit-assignee">
                    <option>최지원</option>
                    <!-- 다른 담당자 옵션 추가 가능 -->
                </select>

                <div class="modal-buttons">
                    <button type="button" class="add-sprint-btn" onclick="saveBacklogChanges()">백로그 수정</button>
                    <button type="button" class="cancel-btn" onclick="closeSprintBacklogEditModal()">취소하기</button>
                </div>
            </form>
        </div>
    </div>


    <!-- 스프린트 설정 팝업 모달 -->
    <div id="sprint-options-modal" class="small-modal" style="display: none;">
        <button onclick="openSprintEditModal()">스프린트 수정</button>
        <button class="delete-btn" onclick="deleteSprint()">스프린트 삭제</button>
    </div>

    <!-- 백로그 설정 팝업 모달 -->
    <div id="backlog-options-modal" class="small-modal" style="display: none;">
        <button onclick="openSprintBacklogEditModal()">백로그 수정</button>
        <button class="delete-btn" onclick="deleteBacklog()">백로그 삭제</button>
    </div>
</body>
<!-- JavaScript 파일 로드 -->
<script src="{{ url_for('static', filename='js/sprint.js') }}"></script>
</html>
